# railway.toml
[build]
builder = "RAILPACK" # Railpack is the newer, faster replacement for Nixpacks

[build.setup]
# Explicitly generate Prisma client before the build starts
commands = ["pnpm --filter finance-tracker exec prisma generate"]

[deploy]
# Using your specific root-level scripts
buildCommand = "pnpm build:app:finance-tracker"
startCommand = "pnpm start:app:finance-tracker"

[environments]
# Ensure we are in the monorepo root
RAILWAY_ROOT_DIRECTORY = "/"
# Additional hint for the package manager
PACKAGE_MANAGER = "pnpm"