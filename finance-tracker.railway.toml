[build]
builder = "RAILPACK"
# Crucial: Keep root at / so all node_modules are accessible
rootDirectory = "/"

[build.setup]
# 1. Install everything
# 2. Generate the client from the app's schema
# 3. This makes the types available for the shared packages to use
commands = [
  "pnpm install",
  "pnpm --filter finance-tracker db:generate"
]

[deploy]
buildCommand = "pnpm build:app:finance-tracker"
startCommand = "pnpm start:app:finance-tracker"