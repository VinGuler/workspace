[build]
builder = "RAILPACK"
# Setting root here tells the builder where the context is
rootDirectory = "/" 

[build.setup]
# Force the specific Nix packages for Prisma 6 compatibility
nixPkgs = ["nodejs_22", "pnpm"]
commands = ["pnpm --filter finance-tracker exec prisma generate"]

[deploy]
# Your root-level scripts
buildCommand = "pnpm build:app:finance-tracker"
startCommand = "pnpm start:app:finance-tracker"

# If you want to define variables in TOML, use a custom table or set them in the UI
# But DO NOT use [environments] as a simple list.